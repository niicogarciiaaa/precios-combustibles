{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction FiltrosComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tipo_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tipo_r1.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", tipo_r1.label, \" \");\n  }\n}\nfunction FiltrosComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const provincia_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", provincia_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", provincia_r2, \" \");\n  }\n}\nfunction FiltrosComponent_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const localidad_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", localidad_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", localidad_r3, \" \");\n  }\n}\nexport let FiltrosComponent = /*#__PURE__*/(() => {\n  class FiltrosComponent {\n    constructor() {\n      this.filtrosChange = new EventEmitter();\n      this.buscarCercanas = new EventEmitter();\n      this.provincias = [];\n      this.localidades = [];\n      this.todasLasGasolineras = [];\n      this.localidadesFiltradas = [];\n      this.buscandoUbicacion = false;\n      this.filtros = {\n        provincia: '',\n        localidad: '',\n        codigoPostal: '',\n        tipoCombustible: 'diesel'\n      };\n      this.tiposCombustible = [{\n        value: 'gasolina95',\n        label: 'Gasolina 95'\n      }, {\n        value: 'gasolina98',\n        label: 'Gasolina 98'\n      }, {\n        value: 'diesel',\n        label: 'Diésel'\n      }, {\n        value: 'dieselPremium',\n        label: 'Diésel Premium'\n      }, {\n        value: 'glp',\n        label: 'GLP'\n      }, {\n        value: 'gnc',\n        label: 'GNC'\n      }, {\n        value: 'bioetanol',\n        label: 'Bioetanol'\n      }, {\n        value: 'biodiesel',\n        label: 'Biodiésel'\n      }];\n    }\n    ngOnChanges(changes) {\n      if (changes['localidades'] && this.localidades) {\n        this.localidadesFiltradas = [...this.localidades];\n      }\n    }\n    onProvinciaChange() {\n      // Resetear localidad cuando cambia la provincia\n      this.filtros.localidad = '';\n      // Filtrar localidades de la provincia seleccionada\n      if (this.filtros.provincia && this.todasLasGasolineras.length > 0) {\n        const localidadesSet = new Set();\n        this.todasLasGasolineras.filter(g => g.provincia === this.filtros.provincia).forEach(g => {\n          if (g.localidad) localidadesSet.add(g.localidad);\n        });\n        this.localidadesFiltradas = Array.from(localidadesSet).sort();\n      } else {\n        this.localidadesFiltradas = [...this.localidades];\n      }\n      this.onFiltroChange();\n    }\n    onFiltroChange() {\n      this.filtrosChange.emit(this.filtros);\n    }\n    limpiarFiltros() {\n      this.filtros = {\n        provincia: '',\n        localidad: '',\n        codigoPostal: '',\n        tipoCombustible: 'diesel'\n      };\n      this.localidadesFiltradas = [...this.localidades];\n      this.filtrosChange.emit(this.filtros);\n    }\n    onBuscarCercanas() {\n      this.buscarCercanas.emit();\n    }\n    static {\n      this.ɵfac = function FiltrosComponent_Factory(t) {\n        return new (t || FiltrosComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: FiltrosComponent,\n        selectors: [[\"app-filtros\"]],\n        inputs: {\n          provincias: \"provincias\",\n          localidades: \"localidades\",\n          todasLasGasolineras: \"todasLasGasolineras\"\n        },\n        outputs: {\n          filtrosChange: \"filtrosChange\",\n          buscarCercanas: \"buscarCercanas\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 32,\n        vars: 10,\n        consts: [[1, \"filtros-container\"], [1, \"filtros-grid\"], [1, \"filtro-item\"], [\"for\", \"tipoCombustible\"], [\"id\", \"tipoCombustible\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"provincia\"], [\"id\", \"provincia\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [\"for\", \"localidad\"], [\"id\", \"localidad\", 3, \"ngModelChange\", \"change\", \"ngModel\", \"disabled\"], [\"for\", \"codigoPostal\"], [\"type\", \"text\", \"id\", \"codigoPostal\", \"placeholder\", \"Ej: 28001\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"filtro-item\", \"btn-container\"], [1, \"btn-cercanas\", 3, \"click\", \"disabled\"], [1, \"btn-limpiar\", 3, \"click\"], [3, \"value\"]],\n        template: function FiltrosComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n            i0.ɵɵtext(2, \"\\uD83D\\uDD0D Filtrar gasolineras\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"label\", 3);\n            i0.ɵɵtext(6, \"Tipo de combustible:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"select\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function FiltrosComponent_Template_select_ngModelChange_7_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.filtros.tipoCombustible, $event) || (ctx.filtros.tipoCombustible = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function FiltrosComponent_Template_select_change_7_listener() {\n              return ctx.onFiltroChange();\n            });\n            i0.ɵɵtemplate(8, FiltrosComponent_option_8_Template, 2, 2, \"option\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 6);\n            i0.ɵɵtext(11, \"Provincia:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"select\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function FiltrosComponent_Template_select_ngModelChange_12_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.filtros.provincia, $event) || (ctx.filtros.provincia = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function FiltrosComponent_Template_select_change_12_listener() {\n              return ctx.onProvinciaChange();\n            });\n            i0.ɵɵelementStart(13, \"option\", 8);\n            i0.ɵɵtext(14, \"Todas las provincias\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(15, FiltrosComponent_option_15_Template, 2, 2, \"option\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\", 9);\n            i0.ɵɵtext(18, \"Localidad:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"select\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function FiltrosComponent_Template_select_ngModelChange_19_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.filtros.localidad, $event) || (ctx.filtros.localidad = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function FiltrosComponent_Template_select_change_19_listener() {\n              return ctx.onFiltroChange();\n            });\n            i0.ɵɵelementStart(20, \"option\", 8);\n            i0.ɵɵtext(21, \"Todas las localidades\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(22, FiltrosComponent_option_22_Template, 2, 2, \"option\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(23, \"div\", 2)(24, \"label\", 11);\n            i0.ɵɵtext(25, \"C\\u00F3digo Postal:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"input\", 12);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function FiltrosComponent_Template_input_ngModelChange_26_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.filtros.codigoPostal, $event) || (ctx.filtros.codigoPostal = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function FiltrosComponent_Template_input_input_26_listener() {\n              return ctx.onFiltroChange();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"div\", 13)(28, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function FiltrosComponent_Template_button_click_28_listener() {\n              return ctx.onBuscarCercanas();\n            });\n            i0.ɵɵtext(29);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function FiltrosComponent_Template_button_click_30_listener() {\n              return ctx.limpiarFiltros();\n            });\n            i0.ɵɵtext(31, \" \\uD83D\\uDDD1\\uFE0F Limpiar filtros \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtros.tipoCombustible);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.tiposCombustible);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtros.provincia);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.provincias);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtros.localidad);\n            i0.ɵɵproperty(\"disabled\", !ctx.filtros.provincia);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.localidadesFiltradas);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtros.codigoPostal);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.buscandoUbicacion);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \\uD83D\\uDCCD \", ctx.buscandoUbicacion ? \"Obteniendo ubicaci\\u00F3n...\" : \"Buscar cercanas\", \" \");\n          }\n        },\n        dependencies: [i1.NgForOf, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel],\n        styles: [\".filtros-container[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-bottom:30px}.filtros-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#2c3e50;font-size:1.4rem}.filtros-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;align-items:end;min-height:100px}.filtro-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.filtro-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:.9rem}.filtro-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filtro-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:all .3s ease;height:44px}.filtro-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filtro-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.filtro-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .filtro-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#aaa}.filtro-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff}.filtro-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:#f5f5f5}.filtro-item.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;grid-column:1/-1}.btn-cercanas[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff;padding:12px 24px;border-radius:8px;font-weight:600;transition:all .3s ease;height:44px;display:flex;align-items:center;justify-content:center;white-space:nowrap}.btn-cercanas[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#27ae60;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.btn-cercanas[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-limpiar[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:12px 24px;border-radius:8px;font-weight:600;transition:all .3s ease;height:44px;display:flex;align-items:center;justify-content:center;white-space:nowrap}.btn-limpiar[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:translateY(-2px);box-shadow:0 4px 8px #0003}@media (max-width: 768px){.filtros-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.filtro-item.btn-container[_ngcontent-%COMP%]{justify-content:stretch;grid-column:1}.filtro-item.btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}\"]\n      });\n    }\n  }\n  return FiltrosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
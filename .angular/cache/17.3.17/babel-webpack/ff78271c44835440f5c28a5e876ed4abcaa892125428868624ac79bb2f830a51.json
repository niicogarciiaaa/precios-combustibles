{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/gasolineras.service\";\nimport * as i2 from \"../../services/favoritos.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../tarjeta-gasolinera/tarjeta-gasolinera.component\";\nimport * as i5 from \"../filtros/filtros.component\";\nfunction ListaGasolinerasComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 7)(1, \"app-filtros\", 8);\n    i0.…µ…µlistener(\"filtrosChange\", function ListaGasolinerasComponent_div_1_Template_app_filtros_filtrosChange_1_listener($event) {\n      i0.…µ…µrestoreView(_r1);\n      const ctx_r1 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r1.onFiltrosChange($event));\n    })(\"buscarCercanas\", function ListaGasolinerasComponent_div_1_Template_app_filtros_buscarCercanas_1_listener() {\n      i0.…µ…µrestoreView(_r1);\n      const ctx_r1 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r1.buscarCercanas());\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(2, \"div\", 9)(3, \"h2\");\n    i0.…µ…µtext(4, \"Gasolineras disponibles\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"div\", 10)(6, \"button\", 11);\n    i0.…µ…µlistener(\"click\", function ListaGasolinerasComponent_div_1_Template_button_click_6_listener() {\n      i0.…µ…µrestoreView(_r1);\n      const ctx_r1 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r1.mostrarFavoritos = !ctx_r1.mostrarFavoritos);\n    });\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"button\", 12);\n    i0.…µ…µlistener(\"click\", function ListaGasolinerasComponent_div_1_Template_button_click_8_listener() {\n      i0.…µ…µrestoreView(_r1);\n      const ctx_r1 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r1.refrescar());\n    });\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"provincias\", ctx_r1.provincias)(\"localidades\", ctx_r1.localidades)(\"todasLasGasolineras\", ctx_r1.gasolineras);\n    i0.…µ…µadvance(5);\n    i0.…µ…µclassProp(\"activo\", ctx_r1.mostrarFavoritos);\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \\u2605 Favoritos (\", ctx_r1.numeroFavoritos, \") \");\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"disabled\", ctx_r1.loading);\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \\uD83D\\uDD04 \", ctx_r1.loading ? \"Cargando...\" : \"Actualizar\", \" \");\n  }\n}\nfunction ListaGasolinerasComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 13);\n    i0.…µ…µelement(1, \"div\", 14);\n    i0.…µ…µelementStart(2, \"p\");\n    i0.…µ…µtext(3, \"Cargando datos del MITECO...\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ListaGasolinerasComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 15);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 23);\n    i0.…µ…µtext(1, \" No hay gasolineras en favoritos. \\u00A1Agrega algunas! \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_1_div_4_app_tarjeta_gasolinera_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"app-tarjeta-gasolinera\", 26);\n  }\n  if (rf & 2) {\n    const gasolinera_r3 = ctx.$implicit;\n    const ctx_r1 = i0.…µ…µnextContext(4);\n    i0.…µ…µproperty(\"gasolinera\", gasolinera_r3)(\"combustibleDestacado\", ctx_r1.filtros.tipoCombustible);\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 24);\n    i0.…µ…µtemplate(1, ListaGasolinerasComponent_div_5_div_1_div_4_app_tarjeta_gasolinera_1_Template, 1, 2, \"app-tarjeta-gasolinera\", 25);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngForOf\", ctx_r1.favoritos)(\"ngForTrackBy\", ctx_r1.trackByFn);\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_1_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 27);\n    i0.…µ…µlistener(\"click\", function ListaGasolinerasComponent_div_5_div_1_button_5_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r4);\n      const ctx_r1 = i0.…µ…µnextContext(3);\n      return i0.…µ…µresetView(ctx_r1.limpiarFavoritos());\n    });\n    i0.…µ…µtext(1, \" \\uD83D\\uDDD1\\uFE0F Limpiar favoritos \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 19)(1, \"h3\");\n    i0.…µ…µtext(2, \"\\u2B50 Mis Favoritos\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(3, ListaGasolinerasComponent_div_5_div_1_div_3_Template, 2, 0, \"div\", 20)(4, ListaGasolinerasComponent_div_5_div_1_div_4_Template, 2, 2, \"div\", 21)(5, ListaGasolinerasComponent_div_5_div_1_button_5_Template, 2, 0, \"button\", 22);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.favoritos.length === 0);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.favoritos.length > 0);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.favoritos.length > 0);\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_2_app_tarjeta_gasolinera_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"app-tarjeta-gasolinera\", 26);\n  }\n  if (rf & 2) {\n    const gasolinera_r5 = ctx.$implicit;\n    const ctx_r1 = i0.…µ…µnextContext(3);\n    i0.…µ…µproperty(\"gasolinera\", gasolinera_r5)(\"combustibleDestacado\", ctx_r1.filtros.tipoCombustible);\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_2_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 30);\n    i0.…µ…µtext(1, \" Mostrando las 50 gasolineras m\\u00E1s baratas. Usa los filtros para refinar la b\\u00FAsqueda. \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\")(1, \"p\", 28);\n    i0.…µ…µtext(2, \" Se encontraron \");\n    i0.…µ…µelementStart(3, \"strong\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(5, \" gasolineras \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"div\", 24);\n    i0.…µ…µtemplate(7, ListaGasolinerasComponent_div_5_div_2_app_tarjeta_gasolinera_7_Template, 1, 2, \"app-tarjeta-gasolinera\", 25);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(8, ListaGasolinerasComponent_div_5_div_2_p_8_Template, 2, 0, \"p\", 29);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(ctx_r1.gasolinerasFiltradas.length);\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r1.gasolinerasFiltradas.slice(0, 50))(\"ngForTrackBy\", ctx_r1.trackByFn);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.gasolinerasFiltradas.length > 50);\n  }\n}\nfunction ListaGasolinerasComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 16);\n    i0.…µ…µtemplate(1, ListaGasolinerasComponent_div_5_div_1_Template, 6, 3, \"div\", 17)(2, ListaGasolinerasComponent_div_5_div_2_Template, 9, 4, \"div\", 18);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.mostrarFavoritos);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", !ctx_r1.mostrarFavoritos);\n  }\n}\nfunction ListaGasolinerasComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 31);\n    i0.…µ…µtext(1, \" No se encontraron gasolineras. \");\n    i0.…µ…µelementEnd();\n  }\n}\nexport class ListaGasolinerasComponent {\n  constructor(gasolinerasService, favoritosService) {\n    this.gasolinerasService = gasolinerasService;\n    this.favoritosService = favoritosService;\n    this.gasolineras = [];\n    this.gasolinerasFiltradas = [];\n    this.favoritos = [];\n    this.provincias = [];\n    this.localidades = [];\n    this.loading = true;\n    this.error = null;\n    this.ubicacionUsuario = null;\n    this.mostrandoCercanas = false;\n    this.mostrarFavoritos = false;\n    this.numeroFavoritos = 0;\n    this.filtros = {\n      provincia: '',\n      localidad: '',\n      codigoPostal: '',\n      tipoCombustible: 'diesel'\n    };\n    this.nombresCombustibles = {\n      gasolina95: 'Gasolina 95',\n      gasolina98: 'Gasolina 98',\n      diesel: 'Di√©sel',\n      dieselPremium: 'Di√©sel Premium',\n      glp: 'GLP',\n      gnc: 'GNC',\n      bioetanol: 'Bioetanol',\n      biodiesel: 'Biodi√©sel'\n    };\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    // Cargar gasolineras\n    this.cargarGasolineras();\n    // Escuchar cambios en favoritos\n    this.favoritosService.getFavoritos().pipe(takeUntil(this.destroy$)).subscribe(favoritos => {\n      this.favoritos = favoritos;\n      this.numeroFavoritos = favoritos.length;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  cargarGasolineras() {\n    this.loading = true;\n    this.error = null;\n    this.gasolinerasService.obtenerGasolineras().pipe(takeUntil(this.destroy$)).subscribe({\n      next: gasolineras => {\n        this.gasolineras = gasolineras;\n        this.extraerProvinciasYLocalidades();\n        this.aplicarFiltros();\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error al cargar gasolineras:', err);\n        this.error = 'Error al cargar los datos. Por favor, intenta de nuevo m√°s tarde.';\n        this.loading = false;\n      }\n    });\n  }\n  extraerProvinciasYLocalidades() {\n    const provinciasSet = new Set();\n    const localidadesSet = new Set();\n    this.gasolineras.forEach(g => {\n      if (g.provincia) provinciasSet.add(g.provincia);\n      if (g.localidad) localidadesSet.add(g.localidad);\n    });\n    this.provincias = Array.from(provinciasSet).sort();\n    this.localidades = Array.from(localidadesSet).sort();\n  }\n  aplicarFiltros() {\n    let resultado = [...this.gasolineras];\n    if (this.filtros.provincia) {\n      resultado = resultado.filter(g => g.provincia.toLowerCase().includes(this.filtros.provincia.toLowerCase()));\n    }\n    if (this.filtros.localidad) {\n      resultado = resultado.filter(g => g.localidad.toLowerCase().includes(this.filtros.localidad.toLowerCase()));\n    }\n    if (this.filtros.codigoPostal) {\n      resultado = resultado.filter(g => g.codigoPostal.includes(this.filtros.codigoPostal));\n    }\n    // Ordenar por precio del combustible seleccionado\n    resultado = resultado.sort((a, b) => {\n      const precioA = a.precios[this.filtros.tipoCombustible] || Infinity;\n      const precioB = b.precios[this.filtros.tipoCombustible] || Infinity;\n      return precioA - precioB;\n    });\n    this.gasolinerasFiltradas = resultado;\n  }\n  onFiltrosChange(filtros) {\n    this.filtros = {\n      ...this.filtros,\n      ...filtros\n    };\n    this.mostrandoCercanas = false;\n    this.mostrarFavoritos = false;\n    this.aplicarFiltros();\n  }\n  buscarCercanas() {\n    if (!navigator.geolocation) {\n      this.error = 'Tu navegador no soporta geolocalizaci√≥n.';\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    navigator.geolocation.getCurrentPosition(position => {\n      this.ubicacionUsuario = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      this.mostrarGasolinerasCercanas();\n      this.loading = false;\n    }, error => {\n      this.loading = false;\n      if (error.code === error.PERMISSION_DENIED) {\n        this.error = 'Debes permitir el acceso a tu ubicaci√≥n para encontrar gasolineras cercanas.';\n      } else {\n        this.error = 'No se pudo obtener tu ubicaci√≥n. Por favor, intenta de nuevo.';\n      }\n      console.error('Error de geolocalizaci√≥n:', error);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    });\n  }\n  mostrarGasolinerasCercanas() {\n    if (!this.ubicacionUsuario) return;\n    this.mostrandoCercanas = true;\n    const gasolinerasConDistancia = this.gasolineras.map(g => ({\n      ...g,\n      distancia: this.calcularDistancia(this.ubicacionUsuario.lat, this.ubicacionUsuario.lng, g.latitud, g.longitud)\n    })).sort((a, b) => a.distancia - b.distancia);\n    this.gasolinerasFiltradas = gasolinerasConDistancia;\n  }\n  calcularDistancia(lat1, lon1, lat2, lon2) {\n    // F√≥rmula de Haversine para calcular distancia entre dos puntos en la Tierra\n    const R = 6371; // Radio de la Tierra en kil√≥metros\n    const dLat = this.toRadians(lat2 - lat1);\n    const dLon = this.toRadians(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(this.toRadians(lat1)) * Math.cos(this.toRadians(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distancia = R * c; // Distancia en kil√≥metros\n    return distancia;\n  }\n  toRadians(grados) {\n    return grados * (Math.PI / 180);\n  }\n  refrescar() {\n    this.gasolinerasService.refrescar();\n    this.cargarGasolineras();\n  }\n  limpiarFavoritos() {\n    if (confirm('¬øEst√°s seguro de que quieres eliminar todos los favoritos?')) {\n      this.favoritosService.limpiarFavoritos();\n    }\n  }\n  trackByFn(index, item) {\n    return item.id;\n  }\n  static {\n    this.…µfac = function ListaGasolinerasComponent_Factory(t) {\n      return new (t || ListaGasolinerasComponent)(i0.…µ…µdirectiveInject(i1.GasolinerasService), i0.…µ…µdirectiveInject(i2.FavoritosService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ListaGasolinerasComponent,\n      selectors: [[\"app-lista-gasolineras\"]],\n      decls: 7,\n      vars: 5,\n      consts: [[1, \"lista-container\"], [\"class\", \"filtros-sticky\", 4, \"ngIf\"], [1, \"contenido-scrollable\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"resultados\", 4, \"ngIf\"], [\"class\", \"sin-resultados\", 4, \"ngIf\"], [1, \"filtros-sticky\"], [3, \"filtrosChange\", \"buscarCercanas\", \"provincias\", \"localidades\", \"todasLasGasolineras\"], [1, \"header-lista\"], [1, \"botones-header\"], [1, \"btn-secondary\", 3, \"click\"], [1, \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error\"], [1, \"resultados\"], [\"class\", \"seccion-favoritos\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"seccion-favoritos\"], [\"class\", \"sin-favoritos\", 4, \"ngIf\"], [\"class\", \"grid-gasolineras\", 4, \"ngIf\"], [\"class\", \"btn-limpiar-favoritos\", 3, \"click\", 4, \"ngIf\"], [1, \"sin-favoritos\"], [1, \"grid-gasolineras\"], [3, \"gasolinera\", \"combustibleDestacado\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"gasolinera\", \"combustibleDestacado\"], [1, \"btn-limpiar-favoritos\", 3, \"click\"], [1, \"contador\"], [\"class\", \"aviso-limite\", 4, \"ngIf\"], [1, \"aviso-limite\"], [1, \"sin-resultados\"]],\n      template: function ListaGasolinerasComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0);\n          i0.…µ…µtemplate(1, ListaGasolinerasComponent_div_1_Template, 10, 8, \"div\", 1);\n          i0.…µ…µelementStart(2, \"div\", 2);\n          i0.…µ…µtemplate(3, ListaGasolinerasComponent_div_3_Template, 4, 0, \"div\", 3)(4, ListaGasolinerasComponent_div_4_Template, 2, 1, \"div\", 4)(5, ListaGasolinerasComponent_div_5_Template, 3, 2, \"div\", 5)(6, ListaGasolinerasComponent_div_6_Template, 2, 0, \"div\", 6);\n          i0.…µ…µelementEnd()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading);\n          i0.…µ…µadvance(2);\n          i0.…µ…µproperty(\"ngIf\", ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.error && !ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.gasolinerasFiltradas.length > 0);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.gasolinerasFiltradas.length === 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.TarjetaGasolineraComponent, i5.FiltrosComponent],\n      styles: [\".lista-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 0;\\n}\\n\\n.filtros-sticky[_ngcontent-%COMP%] {\\n  flex-shrink: 0;\\n  background-color: #f5f5f5;\\n  padding: 0 0 10px 0;\\n}\\n\\n.contenido-scrollable[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 20px;\\n}\\n\\n.header-lista[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 20px;\\n  background-color: white;\\n  border-bottom: 1px solid #e0e0e0;\\n  gap: 15px;\\n}\\n.header-lista[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.3rem;\\n  flex: 1;\\n}\\n.header-lista[_ngcontent-%COMP%]   .botones-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n}\\n.header-lista[_ngcontent-%COMP%]   .botones-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  height: 44px;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 20px;\\n}\\n.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%] {\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #667eea;\\n  border-radius: 50%;\\n  width: 50px;\\n  height: 50px;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 20px auto;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n.error[_ngcontent-%COMP%] {\\n  margin: 20px 0;\\n  padding: 20px;\\n  background-color: #f8d7da;\\n  border: 1px solid #f5c6cb;\\n  border-radius: 5px;\\n  color: #721c24;\\n  text-align: center;\\n}\\n\\n.resultados[_ngcontent-%COMP%]   .contador[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 15px 20px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n.resultados[_ngcontent-%COMP%]   .contador[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: #667eea;\\n  font-size: 1.2em;\\n}\\n.resultados[_ngcontent-%COMP%]   .seccion-favoritos[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 165, 0, 0.1) 100%);\\n  padding: 20px;\\n  border-radius: 12px;\\n  border: 2px solid #ffd700;\\n  margin-bottom: 30px;\\n}\\n.resultados[_ngcontent-%COMP%]   .seccion-favoritos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0 0 20px 0;\\n  color: #ff8c00;\\n  font-size: 1.3rem;\\n  text-align: center;\\n}\\n.resultados[_ngcontent-%COMP%]   .seccion-favoritos[_ngcontent-%COMP%]   .sin-favoritos[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px 20px;\\n  color: #999;\\n  font-size: 1rem;\\n}\\n.resultados[_ngcontent-%COMP%]   .seccion-favoritos[_ngcontent-%COMP%]   .btn-limpiar-favoritos[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-top: 20px;\\n  background-color: #ff6b6b;\\n  color: white;\\n  border: none;\\n  padding: 10px 20px;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: all 0.3s ease;\\n}\\n.resultados[_ngcontent-%COMP%]   .seccion-favoritos[_ngcontent-%COMP%]   .btn-limpiar-favoritos[_ngcontent-%COMP%]:hover {\\n  background-color: #ff5252;\\n  transform: scale(1.02);\\n}\\n\\n.grid-gasolineras[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  gap: 20px;\\n}\\n\\n.sin-resultados[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 20px;\\n  background-color: white;\\n  border-radius: 8px;\\n  color: #7f8c8d;\\n  font-size: 1.1rem;\\n}\\n\\n.aviso-limite[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin: 20px 0;\\n  padding: 15px;\\n  background-color: #fff3cd;\\n  border: 1px solid #ffc107;\\n  border-radius: 5px;\\n  color: #856404;\\n}\\n\\n@media (max-width: 768px) {\\n  .grid-gasolineras[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .header-lista[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: stretch;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0YS1nYXNvbGluZXJhcy9saXN0YS1nYXNvbGluZXJhcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxPQUFBO0VBQ0EsYUFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtFQUNBLFNBQUE7QUFDRjtBQUNFO0VBQ0UsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsT0FBQTtBQUNKO0FBRUU7RUFDRSxhQUFBO0VBQ0EsU0FBQTtBQUFKO0FBRUk7RUFDRSxZQUFBO0FBQU47O0FBS0E7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0FBRkY7QUFJRTtFQUNFLHlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0NBQUE7RUFDQSxpQkFBQTtBQUZKOztBQU1BO0VBQ0U7SUFBSyx1QkFBQTtFQUZMO0VBR0E7SUFBTyx5QkFBQTtFQUFQO0FBQ0Y7QUFFQTtFQUNFLGNBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FBQUY7O0FBSUU7RUFDRSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHdDQUFBO0FBREo7QUFHSTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtBQUROO0FBS0U7RUFDRSwyRkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFISjtBQUtJO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUhOO0FBTUk7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFKTjtBQU9JO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtBQUxOO0FBT007RUFDRSx5QkFBQTtFQUNBLHNCQUFBO0FBTFI7O0FBV0E7RUFDRSxhQUFBO0VBQ0EscUNBQUE7RUFDQSxTQUFBO0FBUkY7O0FBV0E7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQVJGOztBQVdBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFSRjs7QUFXQTtFQUNFO0lBQ0UsMEJBQUE7RUFSRjtFQVdBO0lBQ0Usc0JBQUE7SUFDQSxvQkFBQTtFQVRGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdGEtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWluLWhlaWdodDogMDtcbn1cblxuLmZpbHRyb3Mtc3RpY2t5IHtcbiAgZmxleC1zaHJpbms6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XG4gIHBhZGRpbmc6IDAgMCAxMHB4IDA7XG59XG5cbi5jb250ZW5pZG8tc2Nyb2xsYWJsZSB7XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5oZWFkZXItbGlzdGEge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDtcbiAgZ2FwOiAxNXB4O1xuXG4gIGgyIHtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1zaXplOiAxLjNyZW07XG4gICAgZmxleDogMTtcbiAgfVxuXG4gIC5ib3RvbmVzLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDEwcHg7XG5cbiAgICBidXR0b24ge1xuICAgICAgaGVpZ2h0OiA0NHB4O1xuICAgIH1cbiAgfVxufVxuXG4ubG9hZGluZyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNjBweCAyMHB4O1xuXG4gIC5zcGlubmVyIHtcbiAgICBib3JkZXI6IDRweCBzb2xpZCAjZjNmM2YzO1xuICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCAjNjY3ZWVhO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICBtYXJnaW46IDIwcHggYXV0bztcbiAgfVxufVxuXG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG59XG5cbi5lcnJvciB7XG4gIG1hcmdpbjogMjBweCAwO1xuICBwYWRkaW5nOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhkN2RhO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZjVjNmNiO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGNvbG9yOiAjNzIxYzI0O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5yZXN1bHRhZG9zIHtcbiAgLmNvbnRhZG9yIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcblxuICAgIHN0cm9uZyB7XG4gICAgICBjb2xvcjogIzY2N2VlYTtcbiAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgfVxuICB9XG5cbiAgLnNlY2Npb24tZmF2b3JpdG9zIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDI1NSwgMjE1LCAwLCAwLjEpIDAlLCByZ2JhKDI1NSwgMTY1LCAwLCAwLjEpIDEwMCUpO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZkNzAwO1xuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG5cbiAgICBoMyB7XG4gICAgICBtYXJnaW46IDAgMCAyMHB4IDA7XG4gICAgICBjb2xvcjogI2ZmOGMwMDtcbiAgICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIC5zaW4tZmF2b3JpdG9zIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHBhZGRpbmc6IDQwcHggMjBweDtcbiAgICAgIGNvbG9yOiAjOTk5O1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIH1cblxuICAgIC5idG4tbGltcGlhci1mYXZvcml0b3Mge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNmI2YjtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTI1MjtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjAyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLmdyaWQtZ2Fzb2xpbmVyYXMge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICBnYXA6IDIwcHg7XG59XG5cbi5zaW4tcmVzdWx0YWRvcyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNjBweCAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBjb2xvcjogIzdmOGM4ZDtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG5cbi5hdmlzby1saW1pdGUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMjBweCAwO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2NkO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZmZjMTA3O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGNvbG9yOiAjODU2NDA0O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmdyaWQtZ2Fzb2xpbmVyYXMge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICB9XG5cbiAgLmhlYWRlci1saXN0YSB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Subject","takeUntil","i0","…µ…µelementStart","…µ…µlistener","ListaGasolinerasComponent_div_1_Template_app_filtros_filtrosChange_1_listener","$event","…µ…µrestoreView","_r1","ctx_r1","…µ…µnextContext","…µ…µresetView","onFiltrosChange","ListaGasolinerasComponent_div_1_Template_app_filtros_buscarCercanas_1_listener","buscarCercanas","…µ…µelementEnd","…µ…µtext","ListaGasolinerasComponent_div_1_Template_button_click_6_listener","mostrarFavoritos","ListaGasolinerasComponent_div_1_Template_button_click_8_listener","refrescar","…µ…µadvance","…µ…µproperty","provincias","localidades","gasolineras","…µ…µclassProp","…µ…µtextInterpolate1","numeroFavoritos","loading","…µ…µelement","error","gasolinera_r3","filtros","tipoCombustible","…µ…µtemplate","ListaGasolinerasComponent_div_5_div_1_div_4_app_tarjeta_gasolinera_1_Template","favoritos","trackByFn","ListaGasolinerasComponent_div_5_div_1_button_5_Template_button_click_0_listener","_r4","limpiarFavoritos","ListaGasolinerasComponent_div_5_div_1_div_3_Template","ListaGasolinerasComponent_div_5_div_1_div_4_Template","ListaGasolinerasComponent_div_5_div_1_button_5_Template","length","gasolinera_r5","ListaGasolinerasComponent_div_5_div_2_app_tarjeta_gasolinera_7_Template","ListaGasolinerasComponent_div_5_div_2_p_8_Template","…µ…µtextInterpolate","gasolinerasFiltradas","slice","ListaGasolinerasComponent_div_5_div_1_Template","ListaGasolinerasComponent_div_5_div_2_Template","ListaGasolinerasComponent","constructor","gasolinerasService","favoritosService","ubicacionUsuario","mostrandoCercanas","provincia","localidad","codigoPostal","nombresCombustibles","gasolina95","gasolina98","diesel","dieselPremium","glp","gnc","bioetanol","biodiesel","destroy$","ngOnInit","cargarGasolineras","getFavoritos","pipe","subscribe","ngOnDestroy","next","complete","obtenerGasolineras","extraerProvinciasYLocalidades","aplicarFiltros","err","console","provinciasSet","Set","localidadesSet","forEach","g","add","Array","from","sort","resultado","filter","toLowerCase","includes","a","b","precioA","precios","Infinity","precioB","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","mostrarGasolinerasCercanas","code","PERMISSION_DENIED","enableHighAccuracy","timeout","maximumAge","gasolinerasConDistancia","map","distancia","calcularDistancia","latitud","longitud","lat1","lon1","lat2","lon2","R","dLat","toRadians","dLon","Math","sin","cos","c","atan2","sqrt","grados","PI","confirm","index","item","id","…µ…µdirectiveInject","i1","GasolinerasService","i2","FavoritosService","selectors","decls","vars","consts","template","ListaGasolinerasComponent_Template","rf","ctx","ListaGasolinerasComponent_div_1_Template","ListaGasolinerasComponent_div_3_Template","ListaGasolinerasComponent_div_4_Template","ListaGasolinerasComponent_div_5_Template","ListaGasolinerasComponent_div_6_Template"],"sources":["/Users/niicogarciia/AplicacionGasolineras/src/app/components/lista-gasolineras/lista-gasolineras.component.ts","/Users/niicogarciia/AplicacionGasolineras/src/app/components/lista-gasolineras/lista-gasolineras.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject, takeUntil } from 'rxjs';\nimport { GasolinerasService } from '../../services/gasolineras.service';\nimport { FavoritosService } from '../../services/favoritos.service';\nimport { GasolineraSimplificada, TipoCombustible } from '../../models/gasolinera.model';\n\n@Component({\n  selector: 'app-lista-gasolineras',\n  templateUrl: './lista-gasolineras.component.html',\n  styleUrls: ['./lista-gasolineras.component.scss']\n})\nexport class ListaGasolinerasComponent implements OnInit, OnDestroy {\n  gasolineras: GasolineraSimplificada[] = [];\n  gasolinerasFiltradas: GasolineraSimplificada[] = [];\n  favoritos: GasolineraSimplificada[] = [];\n  provincias: string[] = [];\n  localidades: string[] = [];\n  loading = true;\n  error: string | null = null;\n  ubicacionUsuario: { lat: number; lng: number } | null = null;\n  mostrandoCercanas = false;\n  mostrarFavoritos = false;\n  numeroFavoritos = 0;\n  \n  filtros = {\n    provincia: '',\n    localidad: '',\n    codigoPostal: '',\n    tipoCombustible: 'diesel' as keyof typeof this.nombresCombustibles\n  };\n\n  nombresCombustibles = {\n    gasolina95: 'Gasolina 95',\n    gasolina98: 'Gasolina 98',\n    diesel: 'Di√©sel',\n    dieselPremium: 'Di√©sel Premium',\n    glp: 'GLP',\n    gnc: 'GNC',\n    bioetanol: 'Bioetanol',\n    biodiesel: 'Biodi√©sel'\n  };\n\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private gasolinerasService: GasolinerasService,\n    private favoritosService: FavoritosService\n  ) {}\n\n  ngOnInit(): void {\n    // Cargar gasolineras\n    this.cargarGasolineras();\n    \n    // Escuchar cambios en favoritos\n    this.favoritosService.getFavoritos()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(favoritos => {\n        this.favoritos = favoritos;\n        this.numeroFavoritos = favoritos.length;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  cargarGasolineras(): void {\n    this.loading = true;\n    this.error = null;\n\n    this.gasolinerasService.obtenerGasolineras()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (gasolineras) => {\n          this.gasolineras = gasolineras;\n          this.extraerProvinciasYLocalidades();\n          this.aplicarFiltros();\n          this.loading = false;\n        },\n        error: (err) => {\n          console.error('Error al cargar gasolineras:', err);\n          this.error = 'Error al cargar los datos. Por favor, intenta de nuevo m√°s tarde.';\n          this.loading = false;\n        }\n      });\n  }\n\n  extraerProvinciasYLocalidades(): void {\n    const provinciasSet = new Set<string>();\n    const localidadesSet = new Set<string>();\n\n    this.gasolineras.forEach(g => {\n      if (g.provincia) provinciasSet.add(g.provincia);\n      if (g.localidad) localidadesSet.add(g.localidad);\n    });\n\n    this.provincias = Array.from(provinciasSet).sort();\n    this.localidades = Array.from(localidadesSet).sort();\n  }\n\n  aplicarFiltros(): void {\n    let resultado = [...this.gasolineras];\n\n    if (this.filtros.provincia) {\n      resultado = resultado.filter(g => \n        g.provincia.toLowerCase().includes(this.filtros.provincia.toLowerCase())\n      );\n    }\n\n    if (this.filtros.localidad) {\n      resultado = resultado.filter(g => \n        g.localidad.toLowerCase().includes(this.filtros.localidad.toLowerCase())\n      );\n    }\n\n    if (this.filtros.codigoPostal) {\n      resultado = resultado.filter(g => \n        g.codigoPostal.includes(this.filtros.codigoPostal)\n      );\n    }\n\n    // Ordenar por precio del combustible seleccionado\n    resultado = resultado.sort((a, b) => {\n      const precioA = a.precios[this.filtros.tipoCombustible] || Infinity;\n      const precioB = b.precios[this.filtros.tipoCombustible] || Infinity;\n      return precioA - precioB;\n    });\n\n    this.gasolinerasFiltradas = resultado;\n  }\n\n  onFiltrosChange(filtros: any): void {\n    this.filtros = { ...this.filtros, ...filtros };\n    this.mostrandoCercanas = false;\n    this.mostrarFavoritos = false;\n    this.aplicarFiltros();\n  }\n\n  buscarCercanas(): void {\n    if (!navigator.geolocation) {\n      this.error = 'Tu navegador no soporta geolocalizaci√≥n.';\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        this.ubicacionUsuario = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        this.mostrarGasolinerasCercanas();\n        this.loading = false;\n      },\n      (error) => {\n        this.loading = false;\n        if (error.code === error.PERMISSION_DENIED) {\n          this.error = 'Debes permitir el acceso a tu ubicaci√≥n para encontrar gasolineras cercanas.';\n        } else {\n          this.error = 'No se pudo obtener tu ubicaci√≥n. Por favor, intenta de nuevo.';\n        }\n        console.error('Error de geolocalizaci√≥n:', error);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 0\n      }\n    );\n  }\n\n  mostrarGasolinerasCercanas(): void {\n    if (!this.ubicacionUsuario) return;\n\n    this.mostrandoCercanas = true;\n    const gasolinerasConDistancia = this.gasolineras\n      .map(g => ({\n        ...g,\n        distancia: this.calcularDistancia(\n          this.ubicacionUsuario!.lat,\n          this.ubicacionUsuario!.lng,\n          g.latitud,\n          g.longitud\n        )\n      }))\n      .sort((a, b) => a.distancia - b.distancia);\n\n    this.gasolinerasFiltradas = gasolinerasConDistancia as any;\n  }\n\n  calcularDistancia(lat1: number, lon1: number, lat2: number, lon2: number): number {\n    // F√≥rmula de Haversine para calcular distancia entre dos puntos en la Tierra\n    const R = 6371; // Radio de la Tierra en kil√≥metros\n    const dLat = this.toRadians(lat2 - lat1);\n    const dLon = this.toRadians(lon2 - lon1);\n    \n    const a = \n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(this.toRadians(lat1)) * Math.cos(this.toRadians(lat2)) *\n      Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distancia = R * c; // Distancia en kil√≥metros\n    \n    return distancia;\n  }\n\n  toRadians(grados: number): number {\n    return grados * (Math.PI / 180);\n  }\n\n  refrescar(): void {\n    this.gasolinerasService.refrescar();\n    this.cargarGasolineras();\n  }\n\n  limpiarFavoritos(): void {\n    if (confirm('¬øEst√°s seguro de que quieres eliminar todos los favoritos?')) {\n      this.favoritosService.limpiarFavoritos();\n    }\n  }\n\n  trackByFn(index: number, item: GasolineraSimplificada): string {\n    return item.id;\n  }\n}\n","<div class=\"lista-container\">\n  <div class=\"filtros-sticky\" *ngIf=\"!loading\">\n    <app-filtros \n      (filtrosChange)=\"onFiltrosChange($event)\"\n      (buscarCercanas)=\"buscarCercanas()\"\n      [provincias]=\"provincias\"\n      [localidades]=\"localidades\"\n      [todasLasGasolineras]=\"gasolineras\">\n    </app-filtros>\n    \n    <div class=\"header-lista\">\n      <h2>Gasolineras disponibles</h2>\n      <div class=\"botones-header\">\n        <button class=\"btn-secondary\" \n                (click)=\"mostrarFavoritos = !mostrarFavoritos\"\n                [class.activo]=\"mostrarFavoritos\">\n          ‚òÖ Favoritos ({{ numeroFavoritos }})\n        </button>\n        <button class=\"btn-primary\" (click)=\"refrescar()\" [disabled]=\"loading\">\n          üîÑ {{ loading ? 'Cargando...' : 'Actualizar' }}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"contenido-scrollable\">\n    <div *ngIf=\"loading\" class=\"loading\">\n      <div class=\"spinner\"></div>\n      <p>Cargando datos del MITECO...</p>\n    </div>\n\n    <div *ngIf=\"error && !loading\" class=\"error\">\n      {{ error }}\n    </div>\n\n    <div *ngIf=\"!loading && gasolinerasFiltradas.length > 0\" class=\"resultados\">\n      <div *ngIf=\"mostrarFavoritos\" class=\"seccion-favoritos\">\n        <h3>‚≠ê Mis Favoritos</h3>\n        <div *ngIf=\"favoritos.length === 0\" class=\"sin-favoritos\">\n          No hay gasolineras en favoritos. ¬°Agrega algunas!\n        </div>\n        <div *ngIf=\"favoritos.length > 0\" class=\"grid-gasolineras\">\n          <app-tarjeta-gasolinera \n            *ngFor=\"let gasolinera of favoritos; trackBy: trackByFn\"\n            [gasolinera]=\"gasolinera\"\n            [combustibleDestacado]=\"filtros.tipoCombustible\">\n          </app-tarjeta-gasolinera>\n        </div>\n        <button class=\"btn-limpiar-favoritos\" \n                (click)=\"limpiarFavoritos()\"\n                *ngIf=\"favoritos.length > 0\">\n          üóëÔ∏è Limpiar favoritos\n        </button>\n      </div>\n\n      <div *ngIf=\"!mostrarFavoritos\">\n        <p class=\"contador\">\n          Se encontraron <strong>{{ gasolinerasFiltradas.length }}</strong> gasolineras\n        </p>\n\n        <div class=\"grid-gasolineras\">\n          <app-tarjeta-gasolinera \n            *ngFor=\"let gasolinera of gasolinerasFiltradas.slice(0, 50); trackBy: trackByFn\"\n            [gasolinera]=\"gasolinera\"\n            [combustibleDestacado]=\"filtros.tipoCombustible\">\n          </app-tarjeta-gasolinera>\n        </div>\n\n        <p *ngIf=\"gasolinerasFiltradas.length > 50\" class=\"aviso-limite\">\n          Mostrando las 50 gasolineras m√°s baratas. Usa los filtros para refinar la b√∫squeda.\n        </p>\n      </div>\n    </div>\n\n    <div *ngIf=\"!loading && gasolinerasFiltradas.length === 0\" class=\"sin-resultados\">\n      No se encontraron gasolineras.\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
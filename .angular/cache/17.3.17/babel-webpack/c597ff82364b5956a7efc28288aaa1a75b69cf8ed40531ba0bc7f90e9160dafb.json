{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/gasolineras.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../tarjeta-gasolinera/tarjeta-gasolinera.component\";\nimport * as i4 from \"../filtros/filtros.component\";\nfunction ListaGasolinerasComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 7);\n    i0.…µ…µelement(1, \"div\", 8);\n    i0.…µ…µelementStart(2, \"p\");\n    i0.…µ…µtext(3, \"Cargando datos del MITECO...\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ListaGasolinerasComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 9);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction ListaGasolinerasComponent_div_9_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\");\n    i0.…µ…µtext(1, \" con tus filtros \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_9_app_tarjeta_gasolinera_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"app-tarjeta-gasolinera\", 17);\n  }\n  if (rf & 2) {\n    const gasolinera_r2 = ctx.$implicit;\n    const ctx_r0 = i0.…µ…µnextContext(2);\n    i0.…µ…µproperty(\"gasolinera\", gasolinera_r2)(\"combustibleDestacado\", ctx_r0.filtros.tipoCombustible);\n  }\n}\nfunction ListaGasolinerasComponent_div_9_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 18);\n    i0.…µ…µtext(1, \" No se encontraron gasolineras con los filtros aplicados. \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_9_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 19);\n    i0.…µ…µtext(1, \" Mostrando las 50 gasolineras m\\u00E1s baratas. Usa los filtros para refinar la b\\u00FAsqueda. \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ListaGasolinerasComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 10)(1, \"p\", 11);\n    i0.…µ…µtext(2, \" Se encontraron \");\n    i0.…µ…µelementStart(3, \"strong\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(5, \" gasolineras \");\n    i0.…µ…µtemplate(6, ListaGasolinerasComponent_div_9_span_6_Template, 2, 0, \"span\", 12);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"div\", 13);\n    i0.…µ…µtemplate(8, ListaGasolinerasComponent_div_9_app_tarjeta_gasolinera_8_Template, 1, 2, \"app-tarjeta-gasolinera\", 14);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(9, ListaGasolinerasComponent_div_9_p_9_Template, 2, 0, \"p\", 15)(10, ListaGasolinerasComponent_div_9_p_10_Template, 2, 0, \"p\", 16);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(ctx_r0.gasolinerasFiltradas.length);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.filtros.provincia || ctx_r0.filtros.localidad || ctx_r0.filtros.codigoPostal);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.gasolinerasFiltradas.slice(0, 50))(\"ngForTrackBy\", ctx_r0.trackByFn);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.gasolinerasFiltradas.length === 0);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.gasolinerasFiltradas.length > 50);\n  }\n}\nexport class ListaGasolinerasComponent {\n  constructor(gasolinerasService) {\n    this.gasolinerasService = gasolinerasService;\n    this.gasolineras = [];\n    this.gasolinerasFiltradas = [];\n    this.loading = true;\n    this.error = null;\n    this.filtros = {\n      provincia: '',\n      localidad: '',\n      codigoPostal: '',\n      tipoCombustible: 'diesel'\n    };\n    this.nombresCombustibles = {\n      gasolina95: 'Gasolina 95',\n      gasolina98: 'Gasolina 98',\n      diesel: 'Di√©sel',\n      dieselPremium: 'Di√©sel Premium',\n      glp: 'GLP',\n      gnc: 'GNC',\n      bioetanol: 'Bioetanol',\n      biodiesel: 'Biodi√©sel'\n    };\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.cargarGasolineras();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  cargarGasolineras() {\n    this.loading = true;\n    this.error = null;\n    this.gasolinerasService.obtenerGasolineras().pipe(takeUntil(this.destroy$)).subscribe({\n      next: gasolineras => {\n        this.gasolineras = gasolineras;\n        this.aplicarFiltros();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Error al cargar los datos. Por favor, intenta de nuevo m√°s tarde.';\n        this.loading = false;\n        console.error('Error:', err);\n      }\n    });\n  }\n  aplicarFiltros() {\n    let resultado = [...this.gasolineras];\n    if (this.filtros.provincia) {\n      resultado = resultado.filter(g => g.provincia.toLowerCase().includes(this.filtros.provincia.toLowerCase()));\n    }\n    if (this.filtros.localidad) {\n      resultado = resultado.filter(g => g.localidad.toLowerCase().includes(this.filtros.localidad.toLowerCase()));\n    }\n    if (this.filtros.codigoPostal) {\n      resultado = resultado.filter(g => g.codigoPostal.includes(this.filtros.codigoPostal));\n    }\n    // Ordenar por precio del combustible seleccionado\n    resultado = resultado.filter(g => g.precios[this.filtros.tipoCombustible] && g.precios[this.filtros.tipoCombustible] > 0).sort((a, b) => {\n      const precioA = a.precios[this.filtros.tipoCombustible] || Infinity;\n      const precioB = b.precios[this.filtros.tipoCombustible] || Infinity;\n      return precioA - precioB;\n    });\n    this.gasolinerasFiltradas = resultado;\n  }\n  onFiltrosChange(filtros) {\n    this.filtros = {\n      ...this.filtros,\n      ...filtros\n    };\n    this.aplicarFiltros();\n  }\n  refrescar() {\n    this.gasolinerasService.refrescar();\n    this.cargarGasolineras();\n  }\n  trackByFn(index, item) {\n    return item.id;\n  }\n  static {\n    this.…µfac = function ListaGasolinerasComponent_Factory(t) {\n      return new (t || ListaGasolinerasComponent)(i0.…µ…µdirectiveInject(i1.GasolinerasService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ListaGasolinerasComponent,\n      selectors: [[\"app-lista-gasolineras\"]],\n      decls: 10,\n      vars: 5,\n      consts: [[1, \"lista-container\"], [3, \"filtrosChange\"], [1, \"header-lista\"], [1, \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"resultados\", 4, \"ngIf\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error\"], [1, \"resultados\"], [1, \"contador\"], [4, \"ngIf\"], [1, \"grid-gasolineras\"], [3, \"gasolinera\", \"combustibleDestacado\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"sin-resultados\", 4, \"ngIf\"], [\"class\", \"aviso-limite\", 4, \"ngIf\"], [3, \"gasolinera\", \"combustibleDestacado\"], [1, \"sin-resultados\"], [1, \"aviso-limite\"]],\n      template: function ListaGasolinerasComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"app-filtros\", 1);\n          i0.…µ…µlistener(\"filtrosChange\", function ListaGasolinerasComponent_Template_app_filtros_filtrosChange_1_listener($event) {\n            return ctx.onFiltrosChange($event);\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(2, \"div\", 2)(3, \"h2\");\n          i0.…µ…µtext(4, \"Gasolineras disponibles\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(5, \"button\", 3);\n          i0.…µ…µlistener(\"click\", function ListaGasolinerasComponent_Template_button_click_5_listener() {\n            return ctx.refrescar();\n          });\n          i0.…µ…µtext(6);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(7, ListaGasolinerasComponent_div_7_Template, 4, 0, \"div\", 4)(8, ListaGasolinerasComponent_div_8_Template, 2, 1, \"div\", 5)(9, ListaGasolinerasComponent_div_9_Template, 11, 6, \"div\", 6);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(5);\n          i0.…µ…µproperty(\"disabled\", ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µtextInterpolate1(\" \\uD83D\\uDD04 \", ctx.loading ? \"Cargando...\" : \"Actualizar\", \" \");\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.error);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && !ctx.error);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.TarjetaGasolineraComponent, i4.FiltrosComponent],\n      styles: [\".lista-container[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n}\\n\\n.header-lista[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 25px;\\n  flex-wrap: wrap;\\n  gap: 15px;\\n}\\n.header-lista[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n.header-lista[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n\\n.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%] {\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #667eea;\\n  border-radius: 50%;\\n  width: 50px;\\n  height: 50px;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 20px auto;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n.resultados[_ngcontent-%COMP%]   .contador[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 15px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n.resultados[_ngcontent-%COMP%]   .contador[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: #667eea;\\n  font-size: 1.2em;\\n}\\n\\n.grid-gasolineras[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\\n  gap: 20px;\\n  margin-top: 20px;\\n}\\n\\n.sin-resultados[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 20px;\\n  background-color: white;\\n  border-radius: 8px;\\n  color: #7f8c8d;\\n  font-size: 1.1rem;\\n}\\n\\n.aviso-limite[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-top: 20px;\\n  padding: 15px;\\n  background-color: #fff3cd;\\n  border: 1px solid #ffc107;\\n  border-radius: 5px;\\n  color: #856404;\\n}\\n\\n@media (max-width: 768px) {\\n  .grid-gasolineras[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .header-lista[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: stretch;\\n  }\\n  .header-lista[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0YS1nYXNvbGluZXJhcy9saXN0YS1nYXNvbGluZXJhcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7QUFDRjtBQUNFO0VBQ0UsU0FBQTtBQUNKO0FBRUU7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFLRTtFQUNFLHlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0NBQUE7RUFDQSxpQkFBQTtBQUZKOztBQU1BO0VBQ0U7SUFBSyx1QkFBQTtFQUZMO0VBR0E7SUFBTyx5QkFBQTtFQUFQO0FBQ0Y7QUFHRTtFQUNFLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtBQURKO0FBR0k7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7QUFETjs7QUFNQTtFQUNFLGFBQUE7RUFDQSw0REFBQTtFQUNBLFNBQUE7RUFDQSxnQkFBQTtBQUhGOztBQU1BO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUFIRjs7QUFNQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQUhGOztBQU1BO0VBQ0U7SUFDRSwwQkFBQTtFQUhGO0VBTUE7SUFDRSxzQkFBQTtJQUNBLG9CQUFBO0VBSkY7RUFNRTtJQUNFLFdBQUE7RUFKSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3RhLWNvbnRhaW5lciB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbi5oZWFkZXItbGlzdGEge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgZ2FwOiAxNXB4O1xuXG4gIGgyIHtcbiAgICBtYXJnaW46IDA7XG4gIH1cblxuICBidXR0b246ZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG59XG5cbi5sb2FkaW5nIHtcbiAgLnNwaW5uZXIge1xuICAgIGJvcmRlcjogNHB4IHNvbGlkICNmM2YzZjM7XG4gICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkICM2NjdlZWE7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICAgIG1hcmdpbjogMjBweCBhdXRvO1xuICB9XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn1cblxuLnJlc3VsdGFkb3Mge1xuICAuY29udGFkb3Ige1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcblxuICAgIHN0cm9uZyB7XG4gICAgICBjb2xvcjogIzY2N2VlYTtcbiAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgfVxuICB9XG59XG5cbi5ncmlkLWdhc29saW5lcmFzIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzUwcHgsIDFmcikpO1xuICBnYXA6IDIwcHg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbi5zaW4tcmVzdWx0YWRvcyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNjBweCAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBjb2xvcjogIzdmOGM4ZDtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG5cbi5hdmlzby1saW1pdGUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmMxMDc7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgY29sb3I6ICM4NTY0MDQ7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuZ3JpZC1nYXNvbGluZXJhcyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gIH1cblxuICAuaGVhZGVyLWxpc3RhIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuXG4gICAgYnV0dG9uIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Subject","takeUntil","i0","…µ…µelementStart","…µ…µelement","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate1","ctx_r0","error","…µ…µproperty","gasolinera_r2","filtros","tipoCombustible","…µ…µtemplate","ListaGasolinerasComponent_div_9_span_6_Template","ListaGasolinerasComponent_div_9_app_tarjeta_gasolinera_8_Template","ListaGasolinerasComponent_div_9_p_9_Template","ListaGasolinerasComponent_div_9_p_10_Template","…µ…µtextInterpolate","gasolinerasFiltradas","length","provincia","localidad","codigoPostal","slice","trackByFn","ListaGasolinerasComponent","constructor","gasolinerasService","gasolineras","loading","nombresCombustibles","gasolina95","gasolina98","diesel","dieselPremium","glp","gnc","bioetanol","biodiesel","destroy$","ngOnInit","cargarGasolineras","ngOnDestroy","next","complete","obtenerGasolineras","pipe","subscribe","aplicarFiltros","err","console","resultado","filter","g","toLowerCase","includes","precios","sort","a","b","precioA","Infinity","precioB","onFiltrosChange","refrescar","index","item","id","…µ…µdirectiveInject","i1","GasolinerasService","selectors","decls","vars","consts","template","ListaGasolinerasComponent_Template","rf","ctx","…µ…µlistener","ListaGasolinerasComponent_Template_app_filtros_filtrosChange_1_listener","$event","ListaGasolinerasComponent_Template_button_click_5_listener","ListaGasolinerasComponent_div_7_Template","ListaGasolinerasComponent_div_8_Template","ListaGasolinerasComponent_div_9_Template"],"sources":["/Users/niicogarciia/AplicacionGasolineras/src/app/components/lista-gasolineras/lista-gasolineras.component.ts","/Users/niicogarciia/AplicacionGasolineras/src/app/components/lista-gasolineras/lista-gasolineras.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject, takeUntil } from 'rxjs';\nimport { GasolinerasService } from '../../services/gasolineras.service';\nimport { GasolineraSimplificada, TipoCombustible } from '../../models/gasolinera.model';\n\n@Component({\n  selector: 'app-lista-gasolineras',\n  templateUrl: './lista-gasolineras.component.html',\n  styleUrls: ['./lista-gasolineras.component.scss']\n})\nexport class ListaGasolinerasComponent implements OnInit, OnDestroy {\n  gasolineras: GasolineraSimplificada[] = [];\n  gasolinerasFiltradas: GasolineraSimplificada[] = [];\n  loading = true;\n  error: string | null = null;\n  \n  filtros = {\n    provincia: '',\n    localidad: '',\n    codigoPostal: '',\n    tipoCombustible: 'diesel' as keyof typeof this.nombresCombustibles\n  };\n\n  nombresCombustibles = {\n    gasolina95: 'Gasolina 95',\n    gasolina98: 'Gasolina 98',\n    diesel: 'Di√©sel',\n    dieselPremium: 'Di√©sel Premium',\n    glp: 'GLP',\n    gnc: 'GNC',\n    bioetanol: 'Bioetanol',\n    biodiesel: 'Biodi√©sel'\n  };\n\n  private destroy$ = new Subject<void>();\n\n  constructor(private gasolinerasService: GasolinerasService) {}\n\n  ngOnInit(): void {\n    this.cargarGasolineras();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  cargarGasolineras(): void {\n    this.loading = true;\n    this.error = null;\n\n    this.gasolinerasService.obtenerGasolineras()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (gasolineras) => {\n          this.gasolineras = gasolineras;\n          this.aplicarFiltros();\n          this.loading = false;\n        },\n        error: (err) => {\n          this.error = 'Error al cargar los datos. Por favor, intenta de nuevo m√°s tarde.';\n          this.loading = false;\n          console.error('Error:', err);\n        }\n      });\n  }\n\n  aplicarFiltros(): void {\n    let resultado = [...this.gasolineras];\n\n    if (this.filtros.provincia) {\n      resultado = resultado.filter(g => \n        g.provincia.toLowerCase().includes(this.filtros.provincia.toLowerCase())\n      );\n    }\n\n    if (this.filtros.localidad) {\n      resultado = resultado.filter(g => \n        g.localidad.toLowerCase().includes(this.filtros.localidad.toLowerCase())\n      );\n    }\n\n    if (this.filtros.codigoPostal) {\n      resultado = resultado.filter(g => \n        g.codigoPostal.includes(this.filtros.codigoPostal)\n      );\n    }\n\n    // Ordenar por precio del combustible seleccionado\n    resultado = resultado\n      .filter(g => g.precios[this.filtros.tipoCombustible] && g.precios[this.filtros.tipoCombustible]! > 0)\n      .sort((a, b) => {\n        const precioA = a.precios[this.filtros.tipoCombustible] || Infinity;\n        const precioB = b.precios[this.filtros.tipoCombustible] || Infinity;\n        return precioA - precioB;\n      });\n\n    this.gasolinerasFiltradas = resultado;\n  }\n\n  onFiltrosChange(filtros: any): void {\n    this.filtros = { ...this.filtros, ...filtros };\n    this.aplicarFiltros();\n  }\n\n  refrescar(): void {\n    this.gasolinerasService.refrescar();\n    this.cargarGasolineras();\n  }\n\n  trackByFn(index: number, item: GasolineraSimplificada): string {\n    return item.id;\n  }\n}\n","<div class=\"lista-container\">\n  <app-filtros (filtrosChange)=\"onFiltrosChange($event)\"></app-filtros>\n  \n  <div class=\"header-lista\">\n    <h2>Gasolineras disponibles</h2>\n    <button class=\"btn-primary\" (click)=\"refrescar()\" [disabled]=\"loading\">\n      üîÑ {{ loading ? 'Cargando...' : 'Actualizar' }}\n    </button>\n  </div>\n\n  <div *ngIf=\"loading\" class=\"loading\">\n    <div class=\"spinner\"></div>\n    <p>Cargando datos del MITECO...</p>\n  </div>\n\n  <div *ngIf=\"error\" class=\"error\">\n    {{ error }}\n  </div>\n\n  <div *ngIf=\"!loading && !error\" class=\"resultados\">\n    <p class=\"contador\">\n      Se encontraron <strong>{{ gasolinerasFiltradas.length }}</strong> gasolineras\n      <span *ngIf=\"filtros.provincia || filtros.localidad || filtros.codigoPostal\">\n        con tus filtros\n      </span>\n    </p>\n\n    <div class=\"grid-gasolineras\">\n      <app-tarjeta-gasolinera \n        *ngFor=\"let gasolinera of gasolinerasFiltradas.slice(0, 50); trackBy: trackByFn\"\n        [gasolinera]=\"gasolinera\"\n        [combustibleDestacado]=\"filtros.tipoCombustible\">\n      </app-tarjeta-gasolinera>\n    </div>\n\n    <p *ngIf=\"gasolinerasFiltradas.length === 0\" class=\"sin-resultados\">\n      No se encontraron gasolineras con los filtros aplicados.\n    </p>\n\n    <p *ngIf=\"gasolinerasFiltradas.length > 50\" class=\"aviso-limite\">\n      Mostrando las 50 gasolineras m√°s baratas. Usa los filtros para refinar la b√∫squeda.\n    </p>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}